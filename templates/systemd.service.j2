# {{ ansible_managed }}

[Unit]
Description=Gitea Actions runner
Documentation=https://gitea.com/gitea/act_runner
After=docker.service

[Service]
WorkingDirectory={{ act_runner_dir }}
ExecStart={{ act_runner_dir }}/act_runner-current daemon
ExecReload=/bin/kill -HUP $MAINPID
User={{ act_runner_user }}
Group={{ act_runner_user }}
TimeoutSec=0
RestartSec=2
Restart=always
StartLimitBurst=3
StartLimitInterval=60s
LimitNOFILE=infinity
LimitNPROC=infinity
LimitCORE=infinity
TasksMax=infinity
Delegate=yes
Type=simple
KillMode=mixed

[Install]
WantedBy=default.target
